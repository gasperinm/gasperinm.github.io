<!DOCTYPE html>
<html>
    <head>
        <title>gasperinm - index</title>
    </head>
    <body>
        <h1>Welcome!</h1>
        <h2 id="date"></h2>
        <button onclick="alert('TO-DO: implement')">Add task</button>
        <br/> <br/>
        <div id="tasks"></div>
        <script>
            var d = new Date();
            document.getElementById("date").innerHTML = d.toDateString();

            var tasksDiv = document.getElementById("tasks");
            var tasks = JSON.parse(localStorage.getItem("tasks"));
            if (tasks == null) {
                tasksDiv.innerHTML = "No tasks today.";
            }
            else {
                tasks.forEach(element => {
                    if (element.date == d.toDateString()) {
                        tasksDiv.innerHTML += "<a>" + element.title + "</a><br/>";
                    }
                });
            }

            function addTask() {
                var inputTaskName = document.getElementById("taskName").value;
                if (inputTaskName == "") {
                    alert("Task name cannot be empty");
                }
                else {
                    alert(JSON.stringify({"title":inputTaskName, "date": d.toDateString()})));
                }
            }
        </script>
    </body>
</html>